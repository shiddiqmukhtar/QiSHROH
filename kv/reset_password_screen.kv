#:import rgba kivy.utils.get_color_from_hex

<ResetPasswordScreen>:
    name: 'reset'
    on_enter:
        root.anim(back)
        root.anim1(back1)
        root.icons(icon)
        root.text(label)
    
    MDLabel:
        canvas.before:
            Color:
                rgba: rgba('#B2DFDB')
            Rectangle:
                pos: self.pos
                size: self.size
        text: "[b]QiSH[/b]ROH[sup]Â©[/sup]  " * 270
        markup: True
        halign: 'justify'
        font_style: 'Caption'
        color: (.5, .5, .5, .125)
        
    MDFloatLayout:
        MDFloatLayout:
            id: back
            size_hint_y: .45
            pos_hint: {'center_y': 1.8}
            radius: [0, 0, 0, 40]
            canvas.before:
                Color:
                    rgb: rgba('#004848') # (1, 0, 0, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size
        MDFloatLayout:
            id: back1
            size_hint_y: .45
            pos_hint: {'center_y': 1.8}
            radius: [0, 0, 0, 40]
            canvas.before:
                Color:
                    rgb: rgba('#004848') # (1, 0, 0, 1)
                Ellipse:
                    pos: self.pos
                    size: self.size
        MDIconButton:
            id: icon
            icon: 'account-key'
            user_font_size: "60sp"
            pos_hint: {'center_x': .5,'center_y': .85}
            opacity: 0
            theme_text_color: "Custom"
            text_color: 1, 1, 1, 1
        MDLabel:
            id: label
            text: f"[font=.kivy/fonts/Prototype.ttf]Re-set[/font]"
            markup:True
            pos_hint: {'center_y': .8}
            color: 1, 1, 1, 1
            font_style: 'H5'
            halign: 'center'
            opacity: 0
        
        #MDCard:
            #canvas:
                #Color:
                    #rgba: (15/255, 15/255, 67/255, 1)
                    #rgba: rgba('#006060')
                #Rectangle:
                    #pos: self.pos
                    #size: self.size
            #pos_hint: {'center_x': .7, 'center_y': .14}
            #size_hint: .5, .1
        MDLabel:
            padding: [200, 0]
            font_style: 'Caption'
            text: root.kata_bijak
            markup: True
            pos_hint: {'center_x': .7, 'center_y': .14}
            halign: 'justify'
        
    MDTextField:
        id: password_reset
        pos_hint: {'center_x':0.5,'center_y':0.59}
        size_hint: (0.7, 0.08)
        hint_text : 'Email'
        helper_text: 'Required'
        helper_text_mode: 'on_error'
        icon_right: 'email'
        icon_right_color: rgba('#004848') #app.theme_cls.primary_color
        required : True
        text: root.surel
        on_text: root.surel = self.text
        
    MDLabel:
        text: '[b][color=#ffc107]QiSH[/color][/b][color=#c0c0c0]ROH[/color]'
        markup: True
        font_name: ".kivy/fonts/LibreBarcode128Text-Regular.ttf"
        font_size: 60
        pos_hint: {'center_x': 1.25, 'center_y': .027}
        
    BoxLayout:
        #orientation: 'vertical'
        spacing: 30
        pos_hint: {'center_x': .5, 'center_y': .37}
        size_hint: .7,.8
        
        #MDRaisedButton:
        MDFillRoundFlatButton:
            text:'Re-set Password'
            md_bg_color: rgba('#004848')
            size_hint: (0.15,0.07)
            pos_hint: {'center_x':0.5,'center_y':0.63}
            #elevation: 10
            on_release: root.reset()
            
                
        MDTextButton:
            text: 'Cancel'
            pos_hint: {'center_x':0.5,'center_y':0.63}
            color: 0, 0, .9, 1
            on_release:
                root.manager.current = 'login'
                root.manager.transition.direction = 'right'